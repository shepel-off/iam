{% extends "base.html" %}
{% load i18n %}

{% block title %}
{{ object.user.first_name }} {{ object.mid_name }} {{ object.user.last_name }}
{% endblock %}

{% block stylesheet %}
<link rel="stylesheet" type="text/css" href="/css/users/detail.css" media="all" />
<link rel="stylesheet" type="text/css" href="/css/lh.css" media="all" />
{% endblock stylesheet %}

{% block content %}
{% if object.photo %}
<img id="photo" src="/{{ object.photo }}" />
{% endif %}

<div id="personal">
    <h3 id="name">{{ object.user.first_name }} {{ object.mid_name }} {{ object.user.last_name }}</h3>
    <span class="solo">
        {% if object.academic_degree %}
        {{ object.academic_degree }},
        {% endif %}
        {% if object.academic_rank %}
        {{ object.academic_rank }} 
        {% endif %}
        {% if object.post %}
        , {{ object.post }}
        {% endif %}
    </span>
    <span class="solo"><a href="mailto:{{ object.user.email }}">{{ object.user.email }}</a></span>
    <span class="solo"><a href="{% url lab-detail object.laboratory.id %}">{{ object.laboratory.title }}</a></span>
</div>
    {% ifequal user.id object.user.id %}
        <ul class="edit rounded">
            <li><a href="{% url profile-edit object.id %}">Редактировать профиль</a></li>
            <li><a href="{% url publication-add %}">Добавить публикацию</a></li>
        </ul>
    {% endifequal %}
<span id="about">{{ object.about|safe }}</span>

{% ifnotequal object.publication_set.all|length 0 %}
<div id="publications">
    <h3>{% trans 'Публикации' %}</h3>
    <ol>
    {% for pub in object.publication_set.all %}
    <li>{% ifequal user.id object.user.id %}<a href="{% url publication-edit pub.id %}">{{ pub }}</a>{% else %}{{ pub }}{% endifequal %}</li>
    {% endfor %}
    </ol>
</div>
{% endifnotequal %}
{% endblock %}
